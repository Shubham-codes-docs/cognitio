<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="The official site for Cognitio-2024" />
    <meta name="author" content="Cognitio" />
    <title>Cognitio-2024</title>
    <link
      rel="shortcut icon"
      href="./assets/imgs/images/Cognitio logo white.png"
      type="image/x-icon"
    />
    <!-- font icons -->
    <link
      rel="stylesheet"
      href="assets/vendors/themify-icons/css/themify-icons.css"
    />
    <!-- Bootstrap + LeadMark main styles -->
    <link rel="stylesheet" href="assets/css/leadmark.css" />
  </head>
  <body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">
    <!-- page Navigation -->
    <nav
      class="navbar custom-navbar navbar-expand-md navbar-light fixed-top"
      data-spy="affix"
      data-offset-top="10"
    >
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="./assets/imgs/Cognitio logo.png" alt="" />
        </a>
        <button
          class="navbar-toggler ml-auto"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#about">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#events">Events</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#register">Register</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Of Second Navigation -->

    <!--Main section contact form start-->
    <section id="payment-details" class="container mt-4 p-4">
      <h3 class="text-center mt-4">Payment Details</h3>
      <div class="p-4 text-center">
        <p class="fs-2">
          <strong class="fs-2">Name:-</strong>Nitish Kumar<br />
          <strong class="fs-2">UPI Id:-</strong>6203348491@paytm<br />
          <strong class="fs-2">Phone Number</strong>6203348491<br />
          The Registration fee for Cognitio is <strong>Rs 299/-</strong>
        </p>
      </div>
    </section>
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Success</h5>
            <button
              type="button"
              class="btn-close"
              data-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>
              You have successfully registered for Cognitio-2024.Click on one of
              the following links to join the whatsapp group of cognitio-2024
            </p>
            <ul>
              <li>
                <a href="https://chat.whatsapp.com/FBZmcW3EowyIGHUzaO6CKq"
                  >Link 1</a
                >
              </li>
              <li>
                <a href="https://chat.whatsapp.com/Du24FgzlKsRD0EDTp9QwqL"
                  >Link 2</a
                >
              </li>
            </ul>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <main id="register-form" class="register-form mt-5 p-4">
      <h2 class="text-center mt-5">Register for Cognitio-2024</h2>
      <form class="container" data-toggle="validator">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="name" class="required">Name</label>
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              required
            />
          </div>
          <div class="form-group col-md-6">
            <label for="register" class="required">Registration Number</label>
            <input
              type="text"
              class="form-control"
              id="register"
              name="register"
              required
            />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="email" class="required">Email</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              required
            />
          </div>
          <div class="form-group col-md-6">
            <label for="batch">Batch</label>
            <input type="text" class="form-control" id="batch" name="batch" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="college" class="required"
              >Name of College/School/Organization</label
            >
            <input
              type="text"
              class="form-control"
              id="college"
              name="college"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="number" class="required">WhatsApp Number</label>
            <input
              type="number"
              class="form-control"
              id="number"
              name="number"
              required
            />
          </div>
        </div>
        <div class="form-group">
          <label for="transId" class="required">Transaction ID</label>
          <input
            type="text"
            class="form-control"
            id="transId"
            name="transId"
            required
          />
          <div class="form-group">
            <select
              class="form-select form-select-lg mb-3 mt-2 rounded"
              aria-label=".form-select-lg example"
              name="branch"
            >
              <option selected>Choose Branch</option>
              <option value="mech">Mechanical Engineering</option>
              <option value="pi">Production Engineering</option>
              <option value="ecm">
                Engineering and computational Mechanics
              </option>
              <option value="ee">Electrical Engineering</option>
              <option value="ece">
                Electronic and Communication Engineering
              </option>
              <option value="cse">Computer Science And Engineering</option>
              <option value="civil">Civil Engineering</option>
              <option value="meta">Metallurgical Engineering</option>
            </select>
          </div>
        </div>
        <h3 class="text-center">Choose the events</h3>
        <div class="form-row">
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="quriosity"
                value="quriosity"
                name="check"
              />
              <label class="form-check-label" for="quriosity">
                Quriosity
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Assemblage"
                value="Assemblage"
                name="check"
              />
              <label class="form-check-label" for="Assemblage">
                Assemblage
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Radiation"
                value="Radiation"
                name="check"
              />
              <label class="form-check-label" for="Radiation">
                Radiation
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Elevator-Pitch"
                value="Elevator-Pitch"
                name="check"
              />
              <label class="form-check-label" for="Elevator-Pitch">
                Elevator Pitch
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Place-Station"
                value="Place-Station"
                name="check"
              />
              <label class="form-check-label" for="Place-Station">
                Place Station
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Conundrum"
                value="Conundrum"
                name="check"
              />
              <label class="form-check-label" for="Conundrum">
                Conundrum
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Cansys"
                value="Cansys"
                name="check"
              />
              <label class="form-check-label" for="Cansys"> Cansys </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Dictum-Symposium"
                value="Dictum-Symposium"
                name="check"
              />
              <label class="form-check-label" for="Dictum-Symposium">
                Dictum Symposium
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Shoot-at-Sight"
                value="Shoot-at-Sight"
                name="check"
              />
              <label class="form-check-label" for="Shoot-at-Sight">
                Shoot at Sight
              </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="robo-war"
                value="robo-war"
                name="check"
              />
              <label class="form-check-label" for="robo-war"> Robo War </label>
            </div>
          </div>
          <div class="form-group col-md-2">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="Open-Stage"
                value="Open-Stage"
                name="check"
              />
              <label class="form-check-label" for="Open-Stage">
                Open Stage
              </label>
            </div>
          </div>
        </div>
        <button
          type="submit"
          class="btn btn-primary rounded text-center submit"
        >
          Register
        </button>
      </form>
    </main>

    <!-- Contact Section -->
    <section id="contact" class="section has-img-bg pb-0">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-5 my-3">
            <h6 class="mb-0">Phone</h6>
            <p class="mb-4">6203348491</p>

            <h6 class="mb-0">Email</h6>
            <p class="mb-0">mes@nitjsr.ac.in</p>
            <p></p>
          </div>
          <div class="col-md-7">
            <form action="https://formspree.io/f/maykjqyg" method="post">
              <h4 class="mb-4">Drop Us A Line</h4>
              <div class="form-row">
                <div class="form-group col-sm-4">
                  <input
                    type="text"
                    class="form-control text-white rounded-0 bg-transparent"
                    name="name"
                    placeholder="Name"
                  />
                </div>
                <div class="form-group col-sm-4">
                  <input
                    type="email"
                    class="form-control text-white rounded-0 bg-transparent"
                    name="Email"
                    placeholder="Email"
                  />
                </div>
                <div class="form-group col-sm-4">
                  <input
                    type="text"
                    class="form-control text-white rounded-0 bg-transparent"
                    name="subject"
                    placeholder="Subject"
                  />
                </div>
                <div class="form-group col-12">
                  <textarea
                    name="message"
                    id=""
                    cols="30"
                    rows="4"
                    class="form-control text-white rounded-0 bg-transparent"
                    placeholder="Message"
                  ></textarea>
                </div>
                <div class="form-group col-12 mb-0">
                  <button
                    type="submit"
                    class="btn btn-primary rounded w-md mt-3"
                  >
                    Send
                  </button>
                </div>
                <!-- Modal -->
                <button
                  type="button"
                  class="btn btn-primary modal-button"
                  data-toggle="modal"
                  data-target="#exampleModal"
                  style="display: none"
                >
                  Launch demo modal
                </button>
              </div>
            </form>
          </div>
        </div>
        <!-- Page Footer -->
        <footer class="mt-5 py-4 border-top border-secondary"></footer>
        <!-- End of Page Footer -->
      </div>
    </section>

    <!-- core  -->
    <script src="assets/vendors/jquery/jquery-3.4.1.js"></script>
    <script src="assets/vendors/bootstrap/bootstrap.bundle.js"></script>

    <!-- bootstrap 3 affix -->
    <script src="assets/vendors/bootstrap/bootstrap.affix.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>

    <!-- Isotope -->
    <script src="assets/vendors/isotope/isotope.pkgd.js"></script>

    <!-- LeadMark js -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
      } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCuvrZMWe9tlYT69eYTEzVk0N_T4vCa44M",
        authDomain: "cognitio-24-1e739.firebaseapp.com",
        projectId: "cognitio-24-1e739",
        storageBucket: "cognitio-24-1e739.appspot.com",
        messagingSenderId: "950141558994",
        appId: "1:950141558994:web:8e3e5763a4da8b36784d0b",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      const db = getDatabase();

      //check if registration number is to disable payment
      const regnTag = document.querySelector("input[name='register']");
      const transId = document.querySelector("input[name='transId']");
      const branchSelect = document.querySelector("select[name='branch']");

      regnTag.addEventListener("change", (e) => {
        let regnValue = e.target.value;
        let regex = /UGME/i;
        if (regex.test(regnValue)) {
          transId.disabled = true;
        } else {
          transId.disabled = false;
        }
      });

      // Disable transaction ID for certain branches
      branchSelect.addEventListener("change", (e) => {
        let selectedBranch = e.target.value;
        let transIdInput = document.querySelector("input[name='transId']");
        let disableTransactionIdBranches = ["mech", "ecm"];

        if (disableTransactionIdBranches.includes(selectedBranch)) {
          document
            .querySelector("label[for='transId']")
            .classList.remove("required");
          transIdInput.classList.add("disabled");
          transIdInput.disabled = true;
        } else {
          transIdInput.classList.remove("disabled");
          document
            .querySelector("label[for='transId']")
            .classList.add("required");
          transIdInput.disabled = false;
        }
      });

      //submit handler
      let submitBtn = document.querySelector(".submit");
      submitBtn.addEventListener("click", async (e) => {
        e.preventDefault();
        let sname = e.target.parentElement[(name = "name")].value;
        let regnNo = e.target.parentElement[(name = "register")].value;
        let email = e.target.parentElement[(name = "email")].value;
        let batch = e.target.parentElement[(name = "batch")].value;
        let transIdValue = transId.value;
        let number = e.target.parentElement[(name = "number")].value;
        let college = e.target.parentElement[(name = "college")].value;
        let branch = e.target.parentElement[(name = "branch")].value;
        if (sname === "" || regnNo === "" || email == "" || number == "") {
          let p = document.createElement("p");
          p.textContent = "Incomplete Fields";
          p.style.color = "red";
          e.target.parentElement.insertBefore(
            p,
            e.target.parentElement.firstChild
          );
          setTimeout(() => {
            p.remove();
          }, 5000);
          return;
        }

         // Validate at least one event is selected
        let selectedEvents = Array.from(
                e.target.parentElement.querySelectorAll("input[name=check]:checked")
            );

            if (selectedEvents.length === 0) {
                let p = document.createElement("p");
                p.textContent = "Please select at least one event";
                p.style.color = "red";
                e.target.parentElement.insertBefore(
                    p,
                    e.target.parentElement.firstChild
                );
                setTimeout(() => {
                    p.remove();
                }, 5000);
                return;
            }

            
        let events = Array.from(
          e.target.parentElement.querySelectorAll("input[name=check]:checked")
        ).map((e) => e.defaultValue);
        set(ref(db, `registered_user/${regnNo}`), {
          name: sname,
          regnNo,
          email,
          number,
          batch,
          college,
          transId: transIdValue,
          events,
        })
          .then(() => {
            e.target.parentElement[(name = "name")].value = "";
            e.target.parentElement[(name = "register")].value = "";
            e.target.parentElement[(name = "email")].value = "";
            e.target.parentElement[(name = "batch")].value = "";
            e.target.parentElement[(name = "number")].value = "";
            transId.value = "";
            e.target.parentElement[(name = "college")].value = "";
            e.target.parentElement[(name = "branch")].value;
            const modalBtn = document.querySelector(".modal-button");
            console.log(modalBtn);
            modalBtn.click();
          })
          .catch((err) => console.log(err));
      });
    </script>
    <script src="assets/js/leadmark.js"></script>
  </body>
</html>
